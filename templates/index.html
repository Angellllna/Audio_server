<!DOCTYPE html>
<html>
<head>
    <title>AudioServer</title>
</head>

<body>
    <h1>üéµ –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫—ñ–≤</h1>
    <ul>
        {% for track in tracks %}
            <li>
                <strong>{{ track.title }}</strong>
                <audio controls>
                    <source src="/tracks/play/{{ track.id }}" type="audio/mpeg">
                    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –∞—É–¥—ñ–æ.
                </audio>
            </li>
        {% endfor %}
    </ul>

    <h2>–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ç—Ä–µ–∫</h2>
    <form action="/tracks/add" method="post" enctype="multipart/form-data">
        <input type="file" name="file" required>
        <button type="submit">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</button>
    </form>

    <h2>–í–∏–¥–∞–ª–∏—Ç–∏ —Ç—Ä–µ–∫</h2>
    <form action="/tracks/delete/1" method="post" onsubmit="event.preventDefault(); deleteTrack();">
        <input type="number" id="deleteId" name="id" placeholder="ID —Ç—Ä–µ–∫—É" required>
        <button type="submit">–í–∏–¥–∞–ª–∏—Ç–∏</button>
    </form>

    <h2>–ü–æ—à—É–∫ —Ç—Ä–µ–∫—ñ–≤</h2>
    <form action="/tracks/search" method="get">
        <input type="text" name="query" placeholder="–ü–æ—à—É–∫">
        <button type="submit">–®—É–∫–∞—Ç–∏</button>
    </form>

    <script>
        function deleteTrack() {
            const id = document.getElementById('deleteId').value;
            fetch(`/tracks/delete/${id}`, {
                method: 'DELETE'
            }).then(() => location.reload());
        }
    </script>
</body>
</html>
